{"version":3,"sources":["logo.jpg","components/Header/Header.js","components/JokeCard/JokeCard.js","components/Footer/Footer.js","App.js","index.js"],"names":["module","exports","Header","className","src","require","alt","Component","JokeCard","this","props","jokeProp","unlaikeJoke","laikeJoke","index","style","marginBottom","id","categories","length","map","cat","key","color","background","joke","type","marginRight","onClick","Footer","Date","getFullYear","App","useState","jokes","setJokes","jokesToShow","setJokesToShow","setCategories","filterCat","setFilterCat","likedJokes","setLikedJokes","currentTab","setCurrentTab","loading","setLoading","useEffect","fetch","then","res","json","data","value","slice","catch","error","console","log","err","observeElement","bottomJoke","observer","IntersectionObserver","entries","isIntersecting","setTimeout","unobserve","threshold","observe","bottomJokeEl","document","getElementById","likeJoke","find","j","likedJoke","unlikeJoke","newLikedJokes","filter","onChangeCategories","e","category","target","name","includes","filterCategoriesCopy","categoryIndex","indexOf","splice","Tabs","activeKey","onSelect","k","Tab","eventKey","title","Badge","pill","variant","hidden","Form","inline","Check","label","checked","onChange","jokeCategories","i","categoryMatch","role","ReactDOM","render"],"mappings":"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","file":"static/js/main.a7b1cbfa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.a9f147c0.jpg\";","import React, { Component } from 'react'\r\nimport './Header.css';\r\n\r\nclass Header extends Component {\r\n    render() {\r\n        return (\r\n            <header>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <img src={require('../../logo.jpg')} alt=\"logo\" />\r\n                            <p>Chuck Norris JOKES</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\nexport default Header;","import React, { Component } from 'react';\r\nimport './JokeCard.css';\r\n\r\nclass JokeCard extends Component {\r\n    render() {\r\n        const { jokeProp, unlaikeJoke, laikeJoke, index } = this.props;\r\n\r\n        return (\r\n            <div className=\"card\" style={{ marginBottom: '10px' }} id={`joke-${index}`}>\r\n                <div className=\"card-body\">\r\n                    {jokeProp.categories.length > 0 ? jokeProp.categories.map(cat => (\r\n                        <span className=\"badge badge-pill badge-primary\" key={cat} style={{ color: '#F7F7F7', background: 'crimson' }}>{cat}</span>\r\n                    )) : <span className=\"badge badge-pill badge-primary\" style={{ color: '#F7F7F7', background: '#3d6ad6' }}>regular</span>}\r\n\r\n                    <p className=\"card-text\" style={{ color: 'crimson' }}>{jokeProp.joke}</p>\r\n                    <button type=\"button\" className=\"btn btn-primary\" style={{ marginRight: '10px' }} onClick={() => laikeJoke(jokeProp.id)} ><i className=\"fas fa-thumbs-up\" /></button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={() => unlaikeJoke(jokeProp.id)} ><i className=\"fas fa-thumbs-down\" /></button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default JokeCard;","import React, { Component } from 'react';\r\nimport './Footer.css';\r\n\r\nclass Footer extends Component {\r\n    render() {\r\n        return (\r\n            <footer>\r\n                Made by&nbsp;<p>Matei Mircea</p>&nbsp;@ {new Date().getFullYear()}\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from 'react';\nimport Header from './components/Header/Header';\nimport JokeCard from './components/JokeCard/JokeCard';\nimport Footer from './components/Footer/Footer';\n\nimport { Tab, Tabs, Form } from 'react-bootstrap';\nimport Badge from 'react-bootstrap/Badge'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nfunction App() {\n  const [jokes, setJokes] = useState([]);\n  const [jokesToShow, setJokesToShow] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [filterCat, setFilterCat] = useState([]);\n\n  const [likedJokes, setLikedJokes] = useState([]);\n  const [currentTab, setCurrentTab] = useState('home');\n\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetch('http://api.icndb.com/jokes/')\n      .then(res => res.json())\n      .then(data => {\n        setJokes(data.value);\n        setJokesToShow(data.value.slice(0, 10))\n\n      }).catch(error => {\n        console.log(error)\n      })\n\n    fetch(`http://api.icndb.com/categories`)\n      .then(res => res.json())\n      .then(res => {\n        setCategories(res.value);\n        setFilterCat(res.value);\n\n      }).catch(err => console.log(err))\n  }, [])\n\n  const addMoreJokes = () => {\n    setLoading(true);\n    setTimeout(() => {\n      setJokesToShow(jokes.slice(0, jokesToShow.length + 10));\n    }, 500)\n  }\n\n  const observeElement = (bottomJoke) => {\n    if (!bottomJoke) {\n      return;\n    }\n    const observer = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting === true) {\n        addMoreJokes();\n        observer.unobserve(bottomJoke);\n      }\n    }, { threshold: 1, })\n\n    observer.observe(bottomJoke);\n  }\n\n  useEffect(() => {\n    const bottomJokeEl = document.getElementById(`joke-${jokesToShow.length - 1}`);\n    observeElement(bottomJokeEl);\n  }, [jokesToShow])\n\n  const likeJoke = (id) => {\n    if (likedJokes.find(j => j.id === id)) { return; }\n    const likedJoke = jokes.find(j => j.id === id)\n    setLikedJokes([likedJoke, ...likedJokes])\n  }\n  const unlikeJoke = (id) => {\n    const newLikedJokes = likedJokes.filter(j => j.id !== id)\n    setLikedJokes(newLikedJokes)\n    console.log(newLikedJokes)\n  }\n  const onChangeCategories = (e) => {\n    const category = e.target.name;\n    if (filterCat.includes(category)) {\n      // if found then remove\n      const filterCategoriesCopy = [...filterCat];\n      const categoryIndex = filterCategoriesCopy.indexOf(category);\n      filterCategoriesCopy.splice(categoryIndex, 1);\n      setFilterCat(filterCategoriesCopy);\n    } else {\n      //else add it\n      setFilterCat([...filterCat, category])\n    }\n  }\n\n  const categoryMatch = (jokeCategories) => {\n    for (let i = 0; i < jokeCategories.length; i++) {\n      if (filterCat.includes(jokeCategories[i])) { return true; }\n    }\n    return false;\n  }\n\n  return (\n    <>\n      <Header />\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n\n            <Tabs activeKey={currentTab} onSelect={(k) => setCurrentTab(k)} >\n              <Tab eventKey=\"home\" title=\"Home\" />\n              <Tab eventKey=\"profile\" title={<span>Likes\n                <Badge pill\n                  className=\"edited-badge-pill\"\n                  variant=\"primary\">\n                  {likedJokes.length > 0 ? likedJokes.length : null}\n                </Badge></span>}\n              />\n            </Tabs>\n\n            <div hidden={currentTab !== 'home'} >\n              {/* Category filters */}\n              <Form inline>\n                {categories.map(cat => (\n                  <div key={cat} className=\"mr-3 mb-3\">\n                    < Form.Check\n                      label={cat}\n                      type=\"checkbox\"\n                      name={cat}\n                      checked={filterCat.includes(cat)}\n                      onChange={onChangeCategories}\n                    />\n                  </div>\n                ))}\n              </Form>\n\n              {/* Joke cards */}\n              {jokesToShow.map((joke, index) => (\n                joke.categories.length === 0 || categoryMatch(joke.categories) ?\n                  <JokeCard\n                    key={joke.id}\n                    jokeProp={joke}\n                    laikeJoke={likeJoke}\n                    unlaikeJoke={unlikeJoke}\n                    index={index}\n                  /> : \"\"\n\n\n              ))}\n              {loading && <div className=\"spinner-grow text-dark\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>}\n            </div>\n\n            <div hidden={currentTab === 'home'} >\n              {likedJokes.map(joke => (\n                <JokeCard\n                  key={joke.id}\n                  jokeProp={joke}\n                  laikeJoke={likeJoke}\n                  unlaikeJoke={unlikeJoke}\n                />\n              ))}\n            </div>\n\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}