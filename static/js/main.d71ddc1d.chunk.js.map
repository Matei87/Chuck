{"version":3,"sources":["logo.jpg","components/Header/Header.js","components/JokeCard/JokeCard.js","components/Footer/Footer.js","App.js","index.js"],"names":["module","exports","Header","className","src","require","alt","Component","JokeCard","this","props","jokeProp","unlaikeJoke","laikeJoke","index","style","marginBottom","id","categories","length","map","cat","key","color","background","joke","type","marginRight","onClick","Footer","Date","getFullYear","App","useState","jokes","setJokes","jokesToShow","setJokesToShow","setCategories","filterCat","setFilterCat","likedJokes","setLikedJokes","currentTab","setCurrentTab","loading","setLoading","setError","useEffect","fetch","then","res","json","data","value","slice","catch","err","bottomJoke","observer","IntersectionObserver","entries","isIntersecting","setTimeout","unobserve","threshold","observe","observeElement","document","getElementById","likeJoke","find","j","likedJoke","unlikeJoke","newLikedJokes","filter","localJokes","localStorage","getItem","JSON","parse","setItem","stringify","onChangeCategories","e","category","target","name","includes","filterCategoriesCopy","categoryIndex","indexOf","splice","Tabs","activeKey","onSelect","k","Tab","eventKey","title","Badge","pill","variant","hidden","Form","inline","Check","label","checked","onChange","jokeCategories","i","categoryMatch","role","ReactDOM","render"],"mappings":"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","file":"static/js/main.d71ddc1d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.a9f147c0.jpg\";","import React, { Component } from 'react'\r\nimport './Header.css';\r\n\r\nclass Header extends Component {\r\n    render() {\r\n        return (\r\n            <header>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <img src={require('../../logo.jpg')} alt=\"logo\" />\r\n                            <p>Chuck Norris JOKES</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\nexport default Header;","import React, { Component } from 'react';\r\nimport './JokeCard.css';\r\n\r\nclass JokeCard extends Component {\r\n    render() {\r\n        const { jokeProp, unlaikeJoke, laikeJoke, index } = this.props;\r\n\r\n        return (\r\n            <div className=\"card\" style={{ marginBottom: '10px' }} id={`joke-${index}`}>\r\n                <div className=\"card-body\">\r\n                    {jokeProp.categories.length > 0 ? jokeProp.categories.map(cat => (\r\n                        <span className=\"badge badge-pill badge-primary\" key={cat} style={{ color: '#F7F7F7', background: 'crimson' }}>{cat}</span>\r\n                    )) : <span className=\"badge badge-pill badge-primary\" style={{ color: '#F7F7F7', background: '#3d6ad6' }}>regular</span>}\r\n\r\n                    <p className=\"card-text\" style={{ color: 'crimson' }}>{jokeProp.joke}</p>\r\n                    <button type=\"button\" className=\"btn btn-primary\" style={{ marginRight: '10px' }} onClick={() => laikeJoke(jokeProp.id)} ><i className=\"fas fa-thumbs-up\" /></button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={() => unlaikeJoke(jokeProp.id)} ><i className=\"fas fa-thumbs-down\" /></button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default JokeCard;","import React, { Component } from 'react';\r\nimport './Footer.css';\r\n\r\nclass Footer extends Component {\r\n    render() {\r\n        return (\r\n            <footer>\r\n                Made by&nbsp;<p>Matei Mircea</p>&nbsp;@ {new Date().getFullYear()}\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from 'react';\nimport Header from './components/Header/Header';\nimport JokeCard from './components/JokeCard/JokeCard';\nimport Footer from './components/Footer/Footer';\n\nimport { Tab, Tabs, Form } from 'react-bootstrap';\nimport Badge from 'react-bootstrap/Badge'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\n\nfunction App() {\n  const [jokes, setJokes] = useState([]);\n  const [jokesToShow, setJokesToShow] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [filterCat, setFilterCat] = useState([]);\n  const [likedJokes, setLikedJokes] = useState([]);\n  const [currentTab, setCurrentTab] = useState('home');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState({});\n\n\n  useEffect(() => {\n    fetch('https://api.icndb.com/jokes/')\n      .then(res => res.json())\n      .then(data => {\n        setJokes(data.value);\n        setJokesToShow(data.value.slice(0, 10))\n      }).catch(err => setError(err))\n\n\n    fetch(`https://api.icndb.com/categories`)\n      .then(res => res.json())\n      .then(res => {\n        setCategories(res.value);\n        setFilterCat(res.value);\n      }).catch(err => setError(err))\n\n  }, [])\n\n\n  useEffect(() => {\n    const addMoreJokes = () => {\n      setLoading(true);\n      setTimeout(() => {\n        setJokesToShow(jokes.slice(0, jokesToShow.length + 10));\n      }, 500)\n    }\n\n    const observeElement = (bottomJoke) => {\n      if (!bottomJoke) {\n        return;\n      }\n      const observer = new IntersectionObserver(entries => {\n        if (entries[0].isIntersecting === true) {\n          addMoreJokes();\n          observer.unobserve(bottomJoke);\n        }\n      }, { threshold: 1, })\n\n      observer.observe(bottomJoke);\n    }\n\n    const bottomJokeEl = document.getElementById(`joke-${jokesToShow.length - 1}`);\n    observeElement(bottomJokeEl);\n  }, [jokesToShow])\n\n\n  const likeJoke = (id) => {\n    if (likedJokes.find(j => j.id === id)) { return; }\n    const likedJoke = jokes.find(j => j.id === id)\n    setLikedJokes([likedJoke, ...likedJokes]);\n  }\n\n  const unlikeJoke = (id) => {\n    const newLikedJokes = likedJokes.filter(j => j.id !== id)\n    setLikedJokes(newLikedJokes)\n  }\n\n\n  //loads the liked jokes from local storage on refresh/start new session\n  useEffect(() => {\n    const localJokes = localStorage.getItem('jokes');\n    if (localJokes) {\n      setLikedJokes(JSON.parse(localJokes))\n    }\n  }, [])\n\n  //stores the liked jokes to local storage\n  useEffect(() => {\n    localStorage.setItem('jokes', JSON.stringify(likedJokes));\n  })\n\n  const onChangeCategories = (e) => {\n    const category = e.target.name;\n    if (filterCat.includes(category)) {\n      // if found then remove\n      const filterCategoriesCopy = [...filterCat];\n      const categoryIndex = filterCategoriesCopy.indexOf(category);\n      filterCategoriesCopy.splice(categoryIndex, 1);\n      setFilterCat(filterCategoriesCopy);\n    } else {\n      //else add it\n      setFilterCat([...filterCat, category])\n    }\n  }\n\n  const categoryMatch = (jokeCategories) => {\n    for (let i = 0; i < jokeCategories.length; i++) {\n      if (filterCat.includes(jokeCategories[i])) { return true; }\n    }\n    return false;\n  }\n\n  return (\n    <>\n      <Header />\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n\n            <Tabs activeKey={currentTab} onSelect={(k) => setCurrentTab(k)} >\n              <Tab eventKey=\"home\" title=\"Home\" />\n              <Tab eventKey=\"profile\" title={<span>Likes\n                <Badge pill\n                  className=\"edited-badge-pill\"\n                  variant=\"primary\">\n                  {likedJokes.length > 0 ? likedJokes.length : null}\n                </Badge></span>}\n              />\n            </Tabs>\n\n            <div hidden={currentTab !== 'home'} >\n              {/* Category filters */}\n              <Form inline>\n                {categories.map(cat => (\n                  <div key={cat} className=\"mr-3 mb-3\">\n                    < Form.Check\n                      label={cat}\n                      type=\"checkbox\"\n                      name={cat}\n                      checked={filterCat.includes(cat)}\n                      onChange={onChangeCategories}\n                    />\n                  </div>\n                ))}\n              </Form>\n\n              {/* Joke cards */}\n              {jokesToShow.map((joke, index) => (\n                joke.categories.length === 0 || categoryMatch(joke.categories) ?\n                  <JokeCard\n                    key={joke.id}\n                    jokeProp={joke}\n                    laikeJoke={likeJoke}\n                    unlaikeJoke={unlikeJoke}\n                    index={index}\n                  /> : \"\"\n\n\n              ))}\n              {loading && <div className=\"spinner-grow text-dark\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>}\n            </div>\n\n            <div hidden={currentTab === 'home'} >\n              {likedJokes.map(joke => (\n                <JokeCard\n                  key={joke.id}\n                  jokeProp={joke}\n                  laikeJoke={likeJoke}\n                  unlaikeJoke={unlikeJoke}\n                />\n              ))}\n            </div>\n\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}